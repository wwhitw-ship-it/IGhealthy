<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IG å¸³è™Ÿå¥æª¢è¨ºæ–·æ›¸</title>
    <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #f9fafb;
            color: #1f2937;
            line-height: 1.5;
        }

        .min-h-screen {
            min-height: 100vh;
            padding: 1rem;
        }

        @media (min-width: 768px) {
            .min-h-screen {
                padding: 2rem;
            }
        }

        .max-w-4xl {
            max-width: 56rem;
            margin: 0 auto;
        }

        .space-y-6 > * + * {
            margin-top: 1.5rem;
        }

        .space-y-4 > * + * {
            margin-top: 1rem;
        }

        .space-y-3 > * + * {
            margin-top: 0.75rem;
        }

        .space-y-2 > * + * {
            margin-top: 0.5rem;
        }

        /* Rounded Cards */
        .rounded-2xl {
            border-radius: 1rem;
        }

        .rounded-xl {
            border-radius: 0.75rem;
        }

        .rounded-lg {
            border-radius: 0.5rem;
        }

        /* Shadows */
        .shadow-sm {
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .shadow-md {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        /* Header */
        header {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            border-top: 4px solid #ec4899;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        @media (min-width: 768px) {
            header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                gap: 0;
            }
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .header-icon {
            background: linear-gradient(to top right, #fbbf24, #f87171, #a855f7);
            padding: 0.75rem;
            border-radius: 9999px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header-text h1 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #111827;
        }

        .header-text p {
            color: #9ca3af;
            font-size: 0.875rem;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .score-display {
            text-align: right;
        }

        .score-display .label {
            font-size: 0.875rem;
            color: #9ca3af;
        }

        .score-display .value {
            font-size: 1.875rem;
            font-weight: 900;
        }

        .score-80 { color: #16a34a; }
        .score-50 { color: #ca8a04; }
        .score-0 { color: #ef4444; }

        @media (max-width: 767px) {
            .score-display { display: none; }
        }

        /* Buttons */
        button {
            border: none;
            cursor: pointer;
            font-family: inherit;
            transition: all 0.2s;
        }

        .btn-icon {
            padding: 0.5rem;
            color: #9ca3af;
        }

        .btn-icon:hover {
            color: #ef4444;
        }

        .btn-primary {
            background-color: #ec4899;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary:hover {
            background-color: #db2777;
        }

        .btn-primary:disabled {
            background-color: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
        }

        .btn-secondary {
            background-color: #f3f4f6;
            color: #374151;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 0.875rem;
            display: inline-flex;
            align-items: center;
            gap: 0.375rem;
        }

        .btn-secondary:hover {
            background-color: #e5e7eb;
        }

        .btn-success {
            background-color: #16a34a;
            color: white;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-success:hover {
            background-color: #15803d;
        }

        .btn-success.active {
            background-color: #16a34a;
        }

        .btn-danger {
            background-color: #ea580c;
            color: white;
        }

        .btn-danger:hover {
            background-color: #c2410c;
        }

        .btn-dark {
            background-color: #1f2937;
            color: white;
        }

        .btn-dark:hover {
            background-color: #111827;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        /* Input Section */
        .input-section {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
        }

        .input-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.5rem;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        @media (min-width: 768px) {
            .input-group {
                flex-direction: row;
            }
        }

        .input-wrapper {
            flex: 1;
            display: flex;
            align-items: center;
            background-color: #f3f4f6;
            border-radius: 0.5rem;
            padding: 0 1rem;
        }

        .input-wrapper span {
            color: #9ca3af;
            margin-right: 0.5rem;
            font-weight: 700;
        }

        .input-wrapper input {
            background: transparent;
            border: none;
            outline: none;
            width: 100%;
            font-size: 1.125rem;
            font-weight: 500;
            color: #111827;
        }

        .input-wrapper input::placeholder {
            color: #9ca3af;
        }

        /* Grid Layout */
        .grid {
            display: grid;
            gap: 1.5rem;
        }

        .grid-cols-1 {
            grid-template-columns: 1fr;
        }

        @media (min-width: 1024px) {
            .grid.lg-cols-3 {
                grid-template-columns: 1fr 2fr;
            }
        }

        .col-span-2 {
            grid-column: span 2;
        }

        /* Card Sections */
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
        }

        .card-title {
            font-size: 1.125rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-left-border {
            border-left: 4px solid;
        }

        .card-left-green {
            border-left-color: #4ade80;
        }

        .card-left-orange {
            border-left-color: #fb923c;
        }

        .card-left-blue {
            border-left-color: #60a5fa;
            background-color: #eff6ff;
            border: 1px solid #bfdbfe;
        }

        /* Checklist */
        .checklist-category {
            margin-bottom: 1.5rem;
        }

        .checklist-category-title {
            font-size: 0.75rem;
            font-weight: 700;
            color: #9ca3af;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            padding: 0.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .checklist-item:hover {
            background-color: #f9fafb;
        }

        .checklist-item.checked {
            background-color: #f0fdf4;
        }

        .checkbox {
            width: 1.25rem;
            height: 1.25rem;
            border: 1px solid #d1d5db;
            border-radius: 0.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.75rem;
            flex-shrink: 0;
            background-color: white;
            transition: all 0.2s;
        }

        .checkbox.checked {
            background-color: #16a34a;
            border-color: #16a34a;
        }

        .checkbox.checked svg {
            color: white;
            width: 0.875rem;
            height: 0.875rem;
        }

        .checklist-text {
            font-size: 0.875rem;
            color: #4b5563;
        }

        .checklist-text.checked {
            color: #111827;
            font-weight: 500;
        }

        /* Textarea */
        textarea {
            width: 100%;
            padding: 1rem;
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            font-family: inherit;
            font-size: 0.875rem;
            color: #111827;
            resize: vertical;
            transition: all 0.2s;
        }

        textarea::placeholder {
            color: #9ca3af;
        }

        textarea:focus {
            outline: none;
            border-color: #16a34a;
            box-shadow: 0 0 0 2px rgba(22, 163, 74, 0.1);
        }

        textarea.orange:focus {
            border-color: #ea580c;
            box-shadow: 0 0 0 2px rgba(234, 88, 12, 0.1);
        }

        /* Action Bar */
        .action-bar {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        @media (min-width: 640px) {
            .action-bar {
                flex-direction: row;
            }
        }

        .action-bar button {
            flex: 1;
        }

        /* Icon styling */
        svg {
            display: inline;
        }

        /* Print Styles */
        @media print {
            body {
                background-color: white;
                padding: 0;
            }

            .no-print {
                display: none !important;
            }

            .print-only {
                display: block !important;
                page-break-inside: avoid;
            }

            .print-document {
                padding: 2rem;
                max-width: 48rem;
                margin: 0 auto;
                background-color: white;
            }
        }

        .print-document {
            display: none;
        }

        .print-header {
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .print-header-left h1 {
            font-size: 1.875rem;
            font-weight: 700;
            color: #111827;
            margin-bottom: 0.5rem;
        }

        .print-header-left p {
            color: #9ca3af;
        }

        .print-header-right {
            text-align: right;
        }

        .print-header-right .label {
            font-size: 0.875rem;
            color: #9ca3af;
            margin-bottom: 0.25rem;
        }

        .print-header-right .value {
            font-family: 'Courier New', monospace;
            color: #4b5563;
        }

        .print-info {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2.5rem;
            background-color: #f9fafb;
            padding: 1.5rem;
            border-radius: 0.75rem;
        }

        .print-info-left .label {
            font-size: 0.875rem;
            color: #9ca3af;
            margin-bottom: 0.25rem;
        }

        .print-info-left .value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1f2937;
        }

        .print-info-right {
            text-align: right;
        }

        .print-info-right .label {
            font-size: 0.875rem;
            color: #9ca3af;
            margin-bottom: 0.25rem;
        }

        .print-info-right .value {
            font-size: 2.25rem;
            font-weight: 900;
        }

        .print-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2.5rem;
        }

        .print-section h3 {
            font-weight: 700;
            font-size: 1.125rem;
            margin-bottom: 0.75rem;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .print-section.green h3 {
            color: #16a34a;
            border-bottom-color: #dcfce7;
        }

        .print-section.orange h3 {
            color: #c2410c;
            border-bottom-color: #fed7aa;
        }

        .print-section .content {
            color: #374151;
            font-size: 0.875rem;
            line-height: 1.6;
            white-space: pre-wrap;
            min-height: 6rem;
        }

        .print-checklist {
            margin-bottom: 2rem;
        }

        .print-checklist h3 {
            font-weight: 700;
            font-size: 1.125rem;
            margin-bottom: 1rem;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 0.5rem;
        }

        .print-checklist-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem 2rem;
        }

        .print-checklist-item {
            display: flex;
            align-items: center;
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .print-checklist-item.checked {
            color: #111827;
            font-weight: 500;
        }

        .print-checklist-item.unchecked {
            color: #d1d5db;
        }

        .print-checklist-icon {
            width: 1rem;
            height: 1rem;
            margin-right: 0.5rem;
            flex-shrink: 0;
        }

        .print-footer {
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid #f3f4f6;
            text-align: center;
            font-size: 0.75rem;
            color: #9ca3af;
        }

        /* Utility Classes */
        .flex {
            display: flex;
        }

        .flex-col {
            flex-direction: column;
        }

        .items-center {
            align-items: center;
        }

        .items-start {
            align-items: flex-start;
        }

        .justify-between {
            justify-content: space-between;
        }

        .gap-1 { gap: 0.25rem; }
        .gap-2 { gap: 0.5rem; }
        .gap-3 { gap: 0.75rem; }
        .gap-4 { gap: 1rem; }

        .mb-1 { margin-bottom: 0.25rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-3 { margin-bottom: 0.75rem; }
        .mb-4 { margin-bottom: 1rem; }

        .text-xs { font-size: 0.75rem; }
        .text-sm { font-size: 0.875rem; }
        .text-lg { font-size: 1.125rem; }

        .font-bold { font-weight: 700; }
        .font-semibold { font-weight: 600; }

        .text-green-500 { color: #16a34a; }
        .text-green-600 { color: #15803d; }
        .text-green-700 { color: #166534; }
        .text-orange-500 { color: #f97316; }
        .text-orange-600 { color: #ea580c; }
        .text-orange-700 { color: #c2410c; }
        .text-blue-500 { color: #3b82f6; }
        .text-blue-800 { color: #1e40af; }
        .text-gray-400 { color: #9ca3af; }
        .text-gray-500 { color: #6b7280; }
        .text-gray-600 { color: #4b5563; }
        .text-gray-700 { color: #374151; }
        .text-gray-800 { color: #1f2937; }
        .text-gray-900 { color: #111827; }

        .bg-white { background-color: white; }
        .bg-green-50 { background-color: #f0fdf4; }
        .bg-green-600 { background-color: #16a34a; }
        .bg-green-700 { background-color: #15803d; }
        .bg-orange-50 { background-color: #fff7ed; }
        .bg-orange-600 { background-color: #ea580c; }
        .bg-blue-50 { background-color: #eff6ff; }
        .bg-blue-100 { background-color: #dbeafe; }
        .bg-blue-200 { background-color: #bfdbfe; }
        .bg-blue-400 { background-color: #60a5fa; }
        .bg-gray-50 { background-color: #f9fafb; }
        .bg-gray-100 { background-color: #f3f4f6; }
        .bg-gray-200 { background-color: #e5e7eb; }
        .bg-gray-900 { background-color: #1f2937; }

        .border { border: 1px solid #e5e7eb; }
        .border-blue-100 { border-color: #dbeafe; }
        .border-blue-200 { border-color: #bfdbfe; }
        .border-green-200 { border-color: #dcfce7; }
        .border-orange-200 { border-color: #fed7aa; }
        .border-gray-200 { border-color: #e5e7eb; }
        .border-gray-300 { border-color: #d1d5db; }

        .hidden {
            display: none !important;
        }

        .w-full { width: 100%; }
        .h-64 { height: 16rem; }
    </style>
</head>
<body>
    <div class="min-h-screen no-print">
        <div class="max-w-4xl space-y-6">
            
            <!-- Header -->
            <header>
                <div class="header-left">
                    <div class="header-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                            <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                            <circle cx="17.5" cy="6.5" r="1.5"></circle>
                        </svg>
                    </div>
                    <div class="header-text">
                        <h1>IG å¸³è™Ÿå¥æª¢è¨ºæ–·æ›¸</h1>
                        <p>å¿«é€Ÿåˆ†æã€æ™ºæ…§æ“´å¯«ã€ä¸€éµç”Ÿæˆå ±å‘Š</p>
                    </div>
                </div>
                
                <div class="header-right">
                    <div class="score-display">
                        <div class="label">ç•¶å‰å¥åº·åº¦</div>
                        <div class="value score-80" id="scoreDisplay">0 åˆ†</div>
                    </div>
                    <button class="btn-icon" onclick="resetForm()" title="é‡ç½®è¡¨å–®">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M23 4v6h-6"></path>
                            <path d="M1 20v-6h6"></path>
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36M20.49 15a9 9 0 0 1-14.85 3.36"></path>
                        </svg>
                    </button>
                </div>
            </header>

            <!-- Input Section -->
            <div class="input-section">
                <label class="input-label">å—æ¸¬å¸³è™Ÿ (ID)</label>
                <div class="input-group">
                    <div class="input-wrapper" style="flex: 1;">
                        <span>@</span>
                        <input 
                            type="text" 
                            id="accountName"
                            placeholder="your_instagram_id"
                        />
                    </div>
                    <button class="btn-primary" id="openInstagramBtn" onclick="openInstagram()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                            <polyline points="15 3 21 3 21 9"></polyline>
                            <line x1="10" y1="14" x2="21" y2="3"></line>
                        </svg>
                        å‰å¾€æŸ¥çœ‹
                    </button>
                </div>
            </div>

            <!-- Main Grid -->
            <div class="grid lg-cols-3">
                
                <!-- Left Column: Checklist -->
                <div class="space-y-6">
                    <div class="card">
                        <h2 class="card-title">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-green-500">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                            æ­¥é©Ÿ 1ï¼šåŸºç¤é …ç›®æª¢æ ¸
                        </h2>
                        <div class="space-y-6" id="checklistContainer"></div>
                    </div>
                </div>

                <!-- Right Column: Feedback -->
                <div class="space-y-6">
                    
                    <!-- Custom Observation -->
                    <div class="card card-left-blue">
                        <h2 class="card-title text-blue-800">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-blue-500">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                            æ­¥é©Ÿ 2ï¼šé¡§å•è§€å¯Ÿç­†è¨˜ (AI æ™ºæ…§æ“´å¯«)
                        </h2>
                        <div class="grid gap-4">
                            <div>
                                <label class="input-label">æ‚¨çœ‹åˆ°çš„äº®é» (é—œéµå­—ï¼Œç”¨é€—è™Ÿåˆ†éš”)</label>
                                <input 
                                    type="text" 
                                    id="customHighlightRaw"
                                    placeholder="ä¾‹ï¼šé™å‹•å¾ˆå¥½ç¬‘ï¼Œæ–‡æ¡ˆå¾ˆå¹½é»˜"
                                    style="width: 100%; padding: 0.75rem; background-color: #f9fafb; border: 1px solid #bfdbfe; border-radius: 0.75rem; font-size: 0.875rem;"
                                />
                            </div>
                            <div>
                                <label class="input-label">æ‚¨çœ‹åˆ°çš„ç—›é» (é—œéµå­—ï¼Œç”¨é€—è™Ÿåˆ†éš”)</label>
                                <input 
                                    type="text" 
                                    id="customIssueRaw"
                                    placeholder="ä¾‹ï¼šç…§ç‰‡å¾ˆç³Šï¼Œæ’ç‰ˆå¤ªäº‚"
                                    style="width: 100%; padding: 0.75rem; background-color: #f9fafb; border: 1px solid #bfdbfe; border-radius: 0.75rem; font-size: 0.875rem;"
                                />
                            </div>
                        </div>
                        <div class="text-xs text-blue-400 flex items-center mt-2">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 0.25rem;">
                                <circle cx="12" cy="12" r="1"/><path d="M12 6v6m0 6v0"/>
                            </svg>
                            è¼¸å…¥é—œéµå­—å¾Œï¼ŒæŒ‰ä¸‹æ–¹çš„ã€Œç”Ÿæˆå ±å‘Šã€æŒ‰éˆ•ï¼Œç³»çµ±æœƒè‡ªå‹•å¹«æ‚¨æ½¤é£¾æˆå°ˆæ¥­èªå¥ã€‚
                        </div>
                    </div>

                    <!-- Good Points -->
                    <div class="card card-left-border card-left-green">
                        <div class="flex justify-between items-center mb-3">
                            <h2 class="card-title" style="margin-bottom: 0;">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-green-500">
                                    <path d="M14 10h4.764a2 2 0 0 1 1.789 2.894l-3.646 7.073A2 2 0 0 1 14.964 21H7a2 2 0 0 1-2-2V9a6 6 0 0 1 12 0"></path>
                                </svg>
                                åšå¾—å¾ˆå¥½çš„åœ°æ–¹
                            </h2>
                            <button class="btn-secondary" onclick="generateCombinedGoodPoints()">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"/>
                                </svg>
                                ç”Ÿæˆå„ªé»å ±å‘Š
                            </button>
                        </div>
                        <textarea id="goodPoints" class="h-64"></textarea>
                    </div>

                    <!-- Improve Points -->
                    <div class="card card-left-border card-left-orange">
                        <div class="flex justify-between items-center mb-3">
                            <h2 class="card-title" style="margin-bottom: 0;">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-orange-500">
                                    <polyline points="23 6 13.46 15.88 8 10.88 1 17.88 1.6 19 8 12.6 13.46 17.88 25 6 24 0"></polyline>
                                </svg>
                                å¯ä»¥æ›´å¥½çš„åœ°æ–¹
                            </h2>
                            <button class="btn-secondary" onclick="generateCombinedImprovePoints()">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"/>
                                </svg>
                                ç”Ÿæˆå»ºè­°å ±å‘Š
                            </button>
                        </div>
                        <textarea id="improvePoints" class="h-64 orange"></textarea>
                    </div>

                    <!-- Action Buttons -->
                    <div class="card action-bar">
                        <button class="btn-success" onclick="copyToClipboard()" id="copyBtn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                            </svg>
                            è¤‡è£½æ–‡å­—å ±å‘Š
                        </button>
                        
                        <button class="btn-dark" onclick="handlePrint()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 6 2 18 2 18 9"></polyline>
                                <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
                                <rect x="6" y="14" width="12" height="8"></rect>
                            </svg>
                            ä¸‹è¼‰ / åˆ—å° PDF
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Print Document -->
    <div class="print-document print-only" id="printDocument"></div>

    <script>
        // === æ•¸æ“šå®šç¾© ===
        const checklist = [
            { id: 1, text: 'å¤§é ­è²¼æ¸…æ™°å°ˆæ¥­', category: 'profile', checked: false },
            { id: 2, text: 'ID ç°¡å–®å¥½è¨˜', category: 'profile', checked: false },
            { id: 3, text: 'åç¨±å«æœå°‹é—œéµå­—', category: 'profile', checked: false },
            { id: 4, text: 'Bio æ¸…æ¥šèªªæ˜åƒ¹å€¼', category: 'bio', checked: false },
            { id: 5, text: 'åŒ…å« CTA è¡Œå‹•å‘¼ç±²', category: 'bio', checked: false },
            { id: 6, text: 'ç²¾é¸å‹•æ…‹åˆ†é¡æ¸…æ™°', category: 'bio', checked: false },
            { id: 7, text: 'ç‰ˆé¢è‰²èª¿é¢¨æ ¼ä¸€è‡´', category: 'content', checked: false },
            { id: 8, text: 'é¦–åœ–æ¸…æ™°æ¨™é¡Œå¸ç›', category: 'content', checked: false },
            { id: 9, text: 'ä¿æŒæŒçºŒæ›´æ–°é »ç‡', category: 'content', checked: false },
            { id: 10, text: 'ç©æ¥µå›è¦†ç•™è¨€äº’å‹•', category: 'engagement', checked: false },
        ];

        const suggestionMap = {
            1: 'å¤§é ­è²¼å»ºè­°æ›´æ›ç‚ºæ¸…æ™°ã€å…·å°ˆæ¥­æ„Ÿæˆ–å¼·çƒˆå€‹äººç‰¹è‰²çš„ç…§ç‰‡ï¼Œå¢åŠ ç¬¬ä¸€çœ¼è¾¨è­˜åº¦ã€‚',
            2: 'å¸³è™Ÿ ID å»ºè­°ç°¡åŒ–ï¼Œå»é™¤éå¤šåº•ç·šæˆ–æ•¸å­—ï¼Œè®“ç²‰çµ²æ›´å®¹æ˜“å£é ­å‚³æ’­èˆ‡æœå°‹ã€‚',
            3: 'åç¨± (Name) æ¬„ä½å»ºè­°åŠ å…¥ã€Œç”¢æ¥­ã€æˆ–ã€Œæœå‹™ã€é—œéµå­—ï¼Œæå‡è¢«æ½›åœ¨å®¢æˆ¶æœå°‹åˆ°çš„æ©Ÿæœƒã€‚',
            4: 'Bio èªªæ˜ä¸å¤ ç›´è§€ï¼Œå»ºè­°ç”¨æ¢åˆ—å¼æ¸…æ¥šå¯«å‡ºã€Œä½ æ˜¯èª°ã€ä»¥åŠã€Œä½ èƒ½è§£æ±ºä»€éº¼å•é¡Œã€ã€‚',
            5: 'Bio ç¼ºä¹æ˜ç¢ºè¡Œå‹•å‘¼ç±² (CTA)ï¼Œå»ºè­°åŠ ä¸Šã€Œâ¬‡ï¸ é»æ“Šä¸‹æ–¹é€£çµ...ã€å…·é«”å¼•å°ç²‰çµ²é»æ“Šã€‚',
            6: 'ç²¾é¸å‹•æ…‹å»ºè­°è£½ä½œçµ±ä¸€è‰²ç³»æˆ–é¢¨æ ¼çš„å°é¢åœ–ï¼Œä¸¦å°‡éæœŸè³‡è¨Šæ­¸æª”ï¼Œä¿æŒç‰ˆé¢æ•´æ½”ã€‚',
            7: 'ç‰ˆé¢è¦–è¦ºè¼ƒç‚ºè·³èºï¼Œå»ºè­°å›ºå®š 1-2 ç¨®ä¸»è‰²èª¿æˆ–æ¿¾é¡é¢¨æ ¼ï¼Œå»ºç«‹å“ç‰Œä¸€è‡´æ€§ã€‚',
            8: 'è²¼æ–‡é¦–åœ–è³‡è¨Šé‡éå¤šæˆ–å­—é«”å¤ªå°ï¼Œå»ºè­°å„ªåŒ–æ¨™é¡Œè¨­è¨ˆï¼ŒåŠ å…¥ç—›é»æˆ–å¥½å¥‡å¿ƒå…ƒç´ æå‡é»æ“Šã€‚',
            9: 'è¿‘æœŸæ›´æ–°é »ç‡ä¸ç©©å®šï¼Œå»ºè­°åˆ¶å®šå…§å®¹è¡Œäº‹æ›†ï¼Œç¶­æŒæ¯é€±å›ºå®šç™¼æ–‡ï¼ˆå¦‚ 2-3 ç¯‡ï¼‰ä»¥ç¶­æŒè§¸åŠã€‚',
            10: 'å»ºè­°æ›´ç©æ¥µå›è¦†ç•™è¨€ï¼Œä¸¦å–„ç”¨é™æ™‚å‹•æ…‹å•ç­”èˆ‡ç²‰çµ²äº’å‹•ï¼Œæå‡å¸³è™Ÿè¦ªå¯†åº¦èˆ‡æ¼”ç®—æ³•æ¬Šé‡ã€‚'
        };

        const goodPointMap = {
            1: 'å¤§é ­è²¼éå¸¸æ¸…æ™°ä¸”å…·å°ˆæ¥­æ„Ÿï¼Œç¬¬ä¸€çœ¼å°±èƒ½å‚³éå‡ºè‰¯å¥½çš„å“ç‰Œä¿¡ä»»åº¦ã€‚',
            2: 'å¸³è™Ÿ ID ç°¡æ½”å¥½è¨˜ï¼Œæ²’æœ‰å¤šé¤˜ç¬¦è™Ÿï¼Œéå¸¸æœ‰åˆ©æ–¼ç²‰çµ²æœå°‹èˆ‡è¨˜æ†¶ã€‚',
            3: 'åç¨±è¨­å®šç²¾æº–ï¼ŒåŒ…å«äº†é‡è¦é—œéµå­—ï¼Œèƒ½æœ‰æ•ˆæå‡åœ¨æœå°‹çµæœçš„æ›å…‰åº¦ã€‚',
            4: 'Bio å¯«å¾—éå¸¸æ¸…æ¥šï¼Œèƒ½åœ¨å¹¾ç§’é˜å…§è®“è¨ªå®¢çŸ¥é“ä½ èƒ½æä¾›ä»€éº¼åƒ¹å€¼ã€‚',
            5: 'Bio ä¸­çš„ CTA è¨­å®šæ˜ç¢ºï¼Œèƒ½æœ‰æ•ˆå¼•å°ç²‰çµ²é€²è¡Œä¸‹ä¸€æ­¥å‹•ä½œï¼ˆé»æ“Šé€£çµï¼‰ã€‚',
            6: 'ç²¾é¸å‹•æ…‹å°é¢é¢¨æ ¼çµ±ä¸€ï¼Œè¦–è¦ºä¸Šéå¸¸æ•´æ½”èˆ’é©ï¼Œåˆ†é¡é‚è¼¯ä¹Ÿå¾ˆæ¸…æ¥šã€‚',
            7: 'ç‰ˆé¢è‰²èª¿èˆ‡é¢¨æ ¼ç¶­æŒå¾—å¾ˆå¥½ï¼Œå…·æœ‰é«˜åº¦çš„ä¸€è‡´æ€§ï¼Œå“ç‰Œè­˜åˆ¥åº¦é«˜ã€‚',
            8: 'è²¼æ–‡é¦–åœ–è¨­è¨ˆå¸ç›ï¼Œæ¨™é¡Œå­—é«”æ¸…æ™°ï¼Œèƒ½æœ‰æ•ˆå¸å¼•äººé»é€²å»è§€çœ‹ã€‚',
            9: 'æ›´æ–°é »ç‡éå¸¸ç©©å®šï¼Œèƒ½æŒçºŒç¶­æŒèˆ‡ç²‰çµ²çš„äº’å‹•ç†±åº¦ï¼Œé€™é»éå¸¸æ£’ï¼',
            10: 'èˆ‡ç²‰çµ²çš„äº’å‹•éå¸¸ç©æ¥µï¼Œå›è¦†ç•™è¨€è¿…é€Ÿä¸”è¦ªåˆ‡ï¼Œç¤¾ç¾¤é»è‘—åº¦ç¶“ç‡Ÿå¾—å¾ˆå¥½ã€‚'
        };

        const goodTemplates = [
            (key) => `è§€å¯Ÿåˆ°æ‚¨çš„${key}ï¼Œé€™å±•ç¾äº†éå¸¸ç¨ç‰¹çš„å€‹äººé­…åŠ›ï¼Œå»ºè­°æŒçºŒä¿æŒï¼`,
            (key) => `ç‰¹åˆ¥å–œæ­¡æ‚¨åœ¨${key}çš„è™•ç†ï¼Œé€™èƒ½æœ‰æ•ˆå»ºç«‹èˆ‡ç²‰çµ²ä¹‹é–“çš„æ·±å±¤é€£çµã€‚`,
            (key) => `æ‚¨çš„${key}æ˜¯ä¸€å€‹å¾ˆå¤§çš„äº®é»ï¼Œåœ¨åŒé¡å‹çš„å¸³è™Ÿä¸­éå¸¸æœ‰è¨˜æ†¶é»ã€‚`,
            (key) => `çœ‹å¾—å‡ºä¾†åœ¨${key}ä¸Šä¸‹äº†å¾ˆå¤šåŠŸå¤«ï¼Œæ•´é«”çš„è³ªæ„Ÿéå¸¸å„ªç§€ã€‚`,
            (key) => `é—œæ–¼${key}çš„éƒ¨åˆ†ï¼Œæ‚¨æŒæ¡å¾—éå¸¸å¥½ï¼Œé€™æœƒå¤§å¹…æå‡ç²‰çµ²çš„ä¿¡ä»»æ„Ÿã€‚`,
            (key) => `é€™æ˜¯ä¸€å€‹å¾ˆæ£’çš„ç´°ç¯€ï¼æ‚¨çš„${key}è®“æ•´å€‹å¸³è™Ÿçœ‹èµ·ä¾†æ›´æœ‰æº«åº¦ã€‚`,
            (key) => `éå¸¸æ¬£è³${key}çš„å‘ˆç¾æ–¹å¼ï¼Œé€™ä¹Ÿæ˜¯ç›®å‰æ¼”ç®—æ³•æ¯”è¼ƒåå¥½çš„å„ªè³ªå…§å®¹ç‰¹å¾µã€‚`,
            (key) => `èƒ½åšåˆ°${key}å…¶å¯¦ä¸å®¹æ˜“ï¼Œé€™é¡¯ç¤ºäº†æ‚¨å°å“ç‰Œç¶“ç‡Ÿçš„ç”¨å¿ƒã€‚`,
            (key) => `å¾${key}å¯ä»¥çœ‹å‡ºæ‚¨å¾ˆæ¸…æ¥šå—çœ¾å–œæ­¡ä»€éº¼ï¼Œé€™æ˜¯ç¶“ç‡ŸæˆåŠŸçš„é—œéµã€‚`,
            (key) => `æ‚¨çš„${key}éå¸¸æœ‰è¾¨è­˜åº¦ï¼Œé€™æœ‰åŠ©æ–¼åœ¨ç²‰çµ²å¿ƒä¸­å»ºç«‹å¼·çƒˆçš„å“ç‰Œå¿ƒä½”ç‡ã€‚`,
        ];

        const improveTemplates = [
            (key) => `ç›®å‰è§€å¯Ÿåˆ°${key}ï¼Œå»ºè­°å¯ä»¥ç¨å¾®èª¿æ•´æ–¹å‘ï¼Œæœƒè®“æ•´é«”è³ªæ„Ÿæ›´å‡ç´šã€‚`,
            (key) => `é›–ç„¶å…§å®¹ä¸éŒ¯ï¼Œä½†${key}å¯èƒ½æœƒå½±éŸ¿ç²‰çµ²çš„è§€çœ‹é«”é©—ï¼Œå»ºè­°å„ªå…ˆå„ªåŒ–æ­¤è™•ã€‚`,
            (key) => `é‡å°${key}çš„éƒ¨åˆ†ï¼Œå»ºè­°å¯ä»¥åƒè€ƒç«¶å“çš„åšæ³•é€²è¡Œå¾®èª¿ï¼Œä»¥æå‡è½‰æ›ç‡ã€‚`,
            (key) => `ç™¼ç¾${key}ï¼Œé€™å¯èƒ½æ˜¯å°è‡´è§¸åŠç‡å—é™çš„åŸå› ä¹‹ä¸€ï¼Œå»ºè­°å˜—è©¦ä¸åŒçš„å‘ˆç¾æ–¹å¼ã€‚`,
            (key) => `åœ¨${key}ä¸Šå¦‚æœèƒ½å¤šä¸€é»å·§æ€ï¼Œæˆ‘ç›¸ä¿¡ç²‰çµ²çš„äº’å‹•æ„é¡˜æœƒå¤§å¹…æé«˜ã€‚`,
            (key) => `å»ºè­°é‡æ–°æª¢è¦–${key}ï¼Œå› ç‚ºé€™é€šå¸¸æ˜¯æ–°ç²‰çµ²æ±ºå®šæ˜¯å¦è¿½è¹¤çš„é—œéµç§’æ•¸ã€‚`,
            (key) => `ç›®å‰${key}çš„å‘ˆç¾ç¨å¾®å¯æƒœäº†ä¸€äº›ï¼Œè‹¥èƒ½å„ªåŒ–ï¼Œæ•´é«”çš„å°ˆæ¥­åº¦æœƒåŠ åˆ†å¾ˆå¤šã€‚`,
            (key) => `å¯ä»¥å˜—è©¦å„ªåŒ–${key}ï¼Œé€™èƒ½å¹«åŠ©æ¼”ç®—æ³•æ›´ç²¾æº–åœ°æŠ“åˆ°æ‚¨çš„å—çœ¾è¼ªå»“ã€‚`,
            (key) => `é—œæ–¼${key}ï¼Œå»ºè­°å¯ä»¥è¨­å®šæ›´æ˜ç¢ºçš„è¦ç¯„ï¼Œè®“ç‰ˆé¢çœ‹èµ·ä¾†æ›´æ•´é½ŠåŠƒä¸€ã€‚`,
            (key) => `è‹¥èƒ½æ”¹å–„${key}ï¼Œå°‡èƒ½æœ‰æ•ˆé™ä½ç²‰çµ²é–±è®€æ™‚çš„è·³å‡ºç‡ã€‚`,
        ];

        const categoryNames = {
            'profile': 'åŸºæœ¬é–€é¢',
            'bio': 'ç°¡ä»‹èˆ‡å‹•æ…‹',
            'content': 'å…§å®¹èˆ‡æ’ç‰ˆ',
            'engagement': 'äº’å‹•è¡¨ç¾'
        };

        // === åˆå§‹åŒ– ===
        function initChecklist() {
            const container = document.getElementById('checklistContainer');
            const grouped = {};
            
            checklist.forEach(item => {
                if (!grouped[item.category]) grouped[item.category] = [];
                grouped[item.category].push(item);
            });

            Object.entries(grouped).forEach(([category, items]) => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'checklist-category';
                
                const title = document.createElement('div');
                title.className = 'checklist-category-title';
                title.textContent = categoryNames[category] || category;
                categoryDiv.appendChild(title);

                items.forEach(item => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'checklist-item';
                    itemDiv.onclick = () => toggleCheck(item.id);
                    
                    const checkbox = document.createElement('div');
                    checkbox.className = 'checkbox';
                    
                    const label = document.createElement('span');
                    label.className = 'checklist-text';
                    label.textContent = item.text;

                    itemDiv.appendChild(checkbox);
                    itemDiv.appendChild(label);
                    
                    item._element = itemDiv;
                    item._checkbox = checkbox;
                    item._label = label;
                    
                    categoryDiv.appendChild(itemDiv);
                });

                container.appendChild(categoryDiv);
            });

            updateChecklistUI();
        }

        function toggleCheck(id) {
            const item = checklist.find(i => i.id === id);
            if (item) {
                item.checked = !item.checked;
                updateChecklistUI();
                updateScore();
            }
        }

        function updateChecklistUI() {
            checklist.forEach(item => {
                if (item.checked) {
                    item._element.classList.add('checked');
                    item._checkbox.classList.add('checked');
                    item._label.classList.add('checked');
                    item._checkbox.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"></polyline></svg>';
                } else {
                    item._element.classList.remove('checked');
                    item._checkbox.classList.remove('checked');
                    item._label.classList.remove('checked');
                    item._checkbox.innerHTML = '';
                }
            });
        }

        function updateScore() {
            const checked = checklist.filter(i => i.checked).length;
            const score = Math.round((checked / checklist.length) * 100);
            const display = document.getElementById('scoreDisplay');
            display.textContent = score + ' åˆ†';
            
            if (score >= 80) display.className = 'value score-80';
            else if (score >= 50) display.className = 'value score-50';
            else display.className = 'value score-0';
        }

        // === ç”Ÿæˆå ±å‘Š ===
        function getRandomTemplate(templates, keyword) {
            return templates[Math.floor(Math.random() * templates.length)](keyword);
        }

        function generateCombinedGoodPoints() {
            let output = '';
            const checked = checklist.filter(i => i.checked);
            
            if (checked.length > 0) {
                output += checked.map(item => `âœ… ${goodPointMap[item.id]}`).join('\n');
            }

            const customHighlight = document.getElementById('customHighlightRaw').value.trim();
            if (customHighlight) {
                const keywords = customHighlight.split(/[,ï¼Œ\n]/).filter(k => k.trim());
                if (keywords.length > 0) {
                    output += '\n\nâœ¨ [é¡§å•ç‰¹åˆ¥è§€å¯Ÿ]\n';
                    keywords.forEach(key => {
                        output += `â€¢ ${getRandomTemplate(goodTemplates, key.trim())}\n`;
                    });
                }
            }

            if (!output) output = 'ï¼ˆç›®å‰æ²’æœ‰å‹¾é¸ä»»ä½•å„ªé»ï¼Œä¹Ÿæ²’æœ‰è¼¸å…¥è‡ªè¨‚è§€å¯Ÿï¼‰';
            document.getElementById('goodPoints').value = output;
        }

        function generateCombinedImprovePoints() {
            let output = '';
            const unchecked = checklist.filter(i => !i.checked);
            
            if (unchecked.length > 0) {
                output += unchecked.map(item => `âš ï¸ ${suggestionMap[item.id]}`).join('\n');
            }

            const customIssue = document.getElementById('customIssueRaw').value.trim();
            if (customIssue) {
                const keywords = customIssue.split(/[,ï¼Œ\n]/).filter(k => k.trim());
                if (keywords.length > 0) {
                    output += '\n\nğŸ’¡ [å®¢è£½åŒ–å„ªåŒ–ç­–ç•¥]\n';
                    keywords.forEach(key => {
                        output += `â€¢ ${getRandomTemplate(improveTemplates, key.trim())}\n`;
                    });
                }
            }

            if (!output) output = 'ï¼ˆå¤ªæ£’äº†ï¼ç›®å‰åŸºç¤é …ç›®å…¨æ•¸é€šéï¼‰';
            document.getElementById('improvePoints').value = output;
        }

        // === è¤‡è£½ ===
        function copyToClipboard() {
            const accountName = document.getElementById('accountName').value || 'æœªå¡«å¯«';
            const goodPoints = document.getElementById('goodPoints').value || 'ï¼ˆæš«ç„¡ç‰¹åˆ¥å‚™è¨»ï¼‰';
            const improvePoints = document.getElementById('improvePoints').value || 'ï¼ˆæš«ç„¡ç‰¹åˆ¥å‚™è¨»ï¼‰';
            const score = Math.round((checklist.filter(i => i.checked).length / checklist.length) * 100);

            const checkedItems = checklist.filter(i => i.checked).map(i => `âœ… ${i.text}`).join('\n');
            const uncheckedItems = checklist.filter(i => !i.checked).map(i => `â¬œ ${i.text}`).join('\n');

            const text = `ğŸ“Š IG å¸³è™Ÿå¥æª¢å ±å‘Š
-------------------------
ğŸ‘¤ å¸³è™Ÿï¼š${accountName}
ğŸ† å¥åº·åº¦åˆ†æ•¸ï¼š${score} åˆ†
-------------------------

âœ¨ ã€åšå¾—å¾ˆå¥½çš„åœ°æ–¹ã€‘
${goodPoints}

ğŸ’¡ ã€å¯ä»¥æ›´å¥½çš„åœ°æ–¹ã€‘
${improvePoints}

-------------------------
ğŸ“ ã€åŸºç¤é …ç›®æª¢æ ¸ã€‘
${checkedItems}

âš ï¸ ã€å»ºè­°è£œå¼·é …ç›®ã€‘
${uncheckedItems}

ğŸ“… å¥æª¢æ—¥æœŸï¼š${new Date().toLocaleDateString()}
`;

            navigator.clipboard.writeText(text).then(() => {
                const btn = document.getElementById('copyBtn');
                btn.textContent = 'âœ“ å·²è¤‡è£½æ–‡å­—';
                btn.style.backgroundColor = '#16a34a';
                setTimeout(() => {
                    btn.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>è¤‡è£½æ–‡å­—å ±å‘Š';
                    btn.style.backgroundColor = '#16a34a';
                }, 2000);
            });
        }

        // === åˆ—å° ===
        function generatePrintDocument() {
            const accountName = document.getElementById('accountName').value || 'æœªæŒ‡å®š';
            const goodPoints = document.getElementById('goodPoints').value || 'ï¼ˆç„¡ç‰¹åˆ¥å‚™è¨»ï¼‰';
            const improvePoints = document.getElementById('improvePoints').value || 'ï¼ˆç„¡ç‰¹åˆ¥å‚™è¨»ï¼‰';
            const score = Math.round((checklist.filter(i => i.checked).length / checklist.length) * 100);
            const date = new Date().toLocaleDateString();

            let html = `
                <div class="print-header">
                    <div class="print-header-left">
                        <h1>IG å¸³è™Ÿå¥æª¢è¨ºæ–·æ›¸</h1>
                        <p>å°ˆæ¥­ç¤¾ç¾¤å¸³è™Ÿåˆ†æå ±å‘Š</p>
                    </div>
                    <div class="print-header-right">
                        <div class="label">è¨ºæ–·æ—¥æœŸ</div>
                        <div class="value">${date}</div>
                    </div>
                </div>

                <div class="print-info">
                    <div class="print-info-left">
                        <div class="label">å—æ¸¬å¸³è™Ÿ</div>
                        <div class="value">${accountName}</div>
                    </div>
                    <div class="print-info-right">
                        <div class="label">å¥åº·åº¦è©•åˆ†</div>
                        <div class="value" style="color: ${score >= 80 ? '#16a34a' : score >= 50 ? '#ca8a04' : '#ef4444'}">${score}<span style="font-size: 1rem; font-weight: 400; color: #9ca3af;"> / 100</span></div>
                    </div>
                </div>

                <div class="print-grid">
                    <div class="print-section green">
                        <h3>
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: #16a34a;">
                                <path d="M14 10h4.764a2 2 0 0 1 1.789 2.894l-3.646 7.073A2 2 0 0 1 14.964 21H7a2 2 0 0 1-2-2V9a6 6 0 0 1 12 0"></path>
                            </svg>
                            åšå¾—å¾ˆå¥½çš„åœ°æ–¹
                        </h3>
                        <div class="content">${goodPoints}</div>
                    </div>
                    <div class="print-section orange">
                        <h3>
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: #c2410c;">
                                <polyline points="23 6 13.46 15.88 8 10.88 1 17.88 1.6 19 8 12.6 13.46 17.88 25 6 24 0"></polyline>
                            </svg>
                            å¯ä»¥æ›´å¥½çš„åœ°æ–¹
                        </h3>
                        <div class="content">${improvePoints}</div>
                    </div>
                </div>

                <div class="print-checklist">
                    <h3>è©³ç´°æª¢æ ¸é …ç›®</h3>
                    <div class="print-checklist-grid">
            `;

            checklist.forEach(item => {
                if (item.checked) {
                    html += `
                        <div class="print-checklist-item checked">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: #16a34a;" class="print-checklist-icon">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                            <span>${item.text}</span>
                        </div>
                    `;
                } else {
                    html += `
                        <div class="print-checklist-item unchecked">
                            <div style="width: 1rem; height: 1rem; border: 1px solid #d1d5db; border-radius: 0.25rem; margin-right: 0.5rem;" class="print-checklist-icon"></div>
                            <span>${item.text}</span>
                        </div>
                    `;
                }
            });

            html += `
                    </div>
                </div>

                <div class="print-footer">
                    æ­¤å ±å‘Šç”± IG å¸³è™Ÿå¥æª¢å·¥å…·ç”Ÿæˆ
                </div>
            `;

            document.getElementById('printDocument').innerHTML = html;
        }

        function handlePrint() {
            generatePrintDocument();
            window.print();
        }

        // === å…¶ä»–åŠŸèƒ½ ===
        function openInstagram() {
            const name = document.getElementById('accountName').value;
            if (name) {
                const clean = name.replace('@', '').trim();
                window.open(`https://www.instagram.com/${clean}/`, '_blank');
            }
        }

        function resetForm() {
            if (confirm('ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰å…§å®¹å—ï¼Ÿ')) {
                document.getElementById('accountName').value = '';
                document.getElementById('customHighlightRaw').value = '';
                document.getElementById('customIssueRaw').value = '';
                document.getElementById('goodPoints').value = '';
                document.getElementById('improvePoints').value = '';
                checklist.forEach(i => i.checked = false);
                updateChecklistUI();
                updateScore();
            }
        }

        // === å•Ÿå‹• ===
        document.addEventListener('DOMContentLoaded', () => {
            initChecklist();
            updateScore();
            document.getElementById('openInstagramBtn').disabled = true;
            
            document.getElementById('accountName').addEventListener('input', () => {
                const btn = document.getElementById('openInstagramBtn');
                btn.disabled = !document.getElementById('accountName').value.trim();
            });
        });
    </script>
</body>
</html>
